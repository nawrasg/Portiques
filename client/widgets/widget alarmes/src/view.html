<div ng-controller="AlarmCtrl">
	<md-input-container>
		<label>Recherchez</label>
		<input ng-model=search ng-change="filter(search)">
	</md-input-container>
	<div layout=row>
		<md-checkbox flex class=md-primary ng-model="showAll" aria-label="Tout afficher">Tout afficher</md-checkbox>
		<button class="btn btn-success btn-lg" ng-click="exportExcel('#alarmTable')">Exporter Excel</button>
	</div>
	<table class="table table-striped" id="alarmTable">
		<thead>
			<tr>
				<th>Etat</th>
				<th>Date</th>
				<th>Niveau</th>
				<th>Quai</th>
				<th>UP</th>
				<th>Message</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tr ng-repeat="alarm in alarms" ng-hide="alarm.treated && !showAll">
			<td><img ng-src="{{getIcon(alarm)}}"></td>
			<td>{{::alarm.date | date : 'dd/MM/yyyy &agrave; HH:mm'}}</td>
			<td>{{::alarm.level}}</td>
			<td>{{::alarm.quai}}</td>
			<td>{{::alarm.up}}</td>
			<td>{{::alarm.message}}</td>
			<td><img ng-src="{{getActions(alarm)}}" ng-click="seeActions(alarm)"></td>
		</tr>
	</table>
</div>